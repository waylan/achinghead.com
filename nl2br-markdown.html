<!DOCTYPE html>
<html lang="en"
>
<head>
    <title>Newline-to-Break and Markdown - achinghead.com</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="http://achinghead.com/nl2br-markdown.html">

        <meta name="author" content="Waylan Limberg" />
        <meta name="keywords" content="markdown" />
        <meta name="description" content="I’ve been giving a lot of thought lately to the behavior popularized by GitHub Flavored Markdown where all newlines result in breaks (&lt;br&gt;). I am not suggesting that Markdown should change in any way, but I am trying to clarify my opinion of the altered behavior (hereinafter ‘nl2br’) in ..." />

    <!-- Enable latex plugin -->




    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://achinghead.com/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="http://achinghead.com/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://achinghead.com/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="http://achinghead.com/theme/css/style.css" type="text/css"/>

        <link href="http://achinghead.com/atom.xml" type="application/atom+xml" rel="alternate"
              title="achinghead.com ATOM Feed"/>



</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://achinghead.com/" class="navbar-brand">
achinghead.com            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="http://achinghead.com/pages/about.html">
                             About
                          </a></li>
                         <li><a href="http://achinghead.com/pages/projects.html">
                             Projects
                          </a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="http://achinghead.com/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->

<div class="container">
    <div class="row">
        <div class="col-sm-9">

    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="http://achinghead.com/nl2br-markdown.html"
                       rel="bookmark"
                       title="Permalink to Newline-to-Break and Markdown">
                        Newline-to-Break and Markdown
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2014-11-23T00:00:00-05:00"> November 23, 2014</time>
    </span>






<span class="label label-default">Tags</span>
	<a href="http://achinghead.com/tag/markdown.html">markdown</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>I&rsquo;ve been giving a lot of thought lately to the behavior popularized by <a href="https://help.github.com/articles/github-flavored-markdown/">GitHub Flavored Markdown</a> where all newlines result in breaks (<code>&lt;br&gt;</code>). I am
not suggesting that <a href="http://daringfireball.net/projects/markdown/syntax">Markdown</a> should change in any way, but I am trying to
clarify my opinion of the altered behavior (hereinafter &lsquo;nl2br&rsquo;) in certain
contexts.</p>
<p>In the past I have always been openly against nl2br. This has likely been
because I&rsquo;ve mostly written Markdown text from the command line (in vim). Any vi
or Emacs users can likely understand my aversion to nl2br (For those who are
unaware, line wrapping in text editors is a fairly new feature that is still not
the default in &ldquo;real&rdquo; command line text editors). That said, I also
understand the usefulness of nl2br in something like blog comments. Many (most)
commenters may not even be intermediate Markdown users and all they know is that
what they type and what appears after they submit looks the same (perhaps with
the exception of the font, etc).<sup id="fnref:1"><a class="footnote-ref" href="#fn:1" rel="footnote">1</a></sup> So yes, in that context nl2br might make
sense.</p>
<p>Even when editing long Markdown documents within a textarea in a browser, there
are some annoyances. For example indenting becomes a chore if the site devs
didn&rsquo;t add some JavaScript to cause the tab key to type a tab character instead
of moving the cursor out of the textarea. And you&rsquo;d better indent a long code
block in your editor (you do know how to indent multiple lines at once in your
editor don&rsquo;t you?) before copying and pasting into a Markdown code block unless
you like hitting the space (remember&mdash;no tab key) and arrow keys repeatedly.
But I digress. Textareas don&rsquo;t offer the option of showing whitespace characters
(like any good text editor does) and it becomes difficult to work out when a
line ends with two spaces or not. And if the page doesn&rsquo;t offer a preview&mdash;it
becomes almost impossible to get it right.</p>
<p>The point is, it seems to me that Markdown was created in a different era,
before people edited documents from within the browser. Therefore, <em>perhaps</em>
some of the more recent altered behaviors make more sense in today&rsquo;s world. This
has been something in the back of my mind lately. Perhaps the recent <a href="http://spec.commonmark.org/">spec</a>
written by J.M. has something to do with it as it addresses some of the
whitespace issues very <a href="http://spec.commonmark.org/0.12/#example-490">nicely</a>.<sup id="fnref:2"><a class="footnote-ref" href="#fn:2" rel="footnote">2</a></sup></p>
<p>However, in a discussion on a list for an unrelated code project, the developers
were considering a policy change to allow lines of code longer than 79 chars.
The idea was that almost no one uses command line editors anymore and it is silly
to restrict line length to 79 characters. It becomes a waste of screen real
estate and makes for some ugly code on occasion. The proposal was to lengthen
the maximum to the length of GitHub&rsquo;s code display box (120 I think). Well,
actually that length minus 1 so that diffs won&rsquo;t have to wrap when they add the
 <code>+</code> or <code>-</code> to the front of lines.</p>
<p>And that last bit got me thinking. Didn&rsquo;t I read someone say very recently that
one of the great things about Markdown is that is works really good with diff to
track changes (If it was you, sorry I forget where I read that)? I agree &hellip;<em>if</em> there are hard line breaks in the text. However, if the editors
line-wrapping feature is turned on (like all textareas and many modern editors)
and the author doesn&rsquo;t manually add hard line breaks, then diff doesn&rsquo;t work so
well.</p>
<p>And there&rsquo;s the rub.</p>
<p>What if the nl2br feature only worked on lines shorter than <code>n</code> chars long so
that we could have nl2br <em>and</em> pretty diffs? But what should <code>n</code> be? And what if
I want a hard break at char <code>n+1</code>? Or more specifically, what if the hard break
was at <code>n-1</code>, but then in a later edit to the beginning of the line, the end is
pushed out to <code>n+1</code> and I don&rsquo;t notice till much later? That seems like a
nonstarter to me.</p>
<p>And even if that problem could be avoided, we still have ugly diffs with
unwrapped lines. Should we require all lines to be hard wrapped? How would that
get enforced in a browser? And while vim has tools built in to automatically
reconfigure the hard wrapping when you make a edit to some line in the middle of
a paragraph, most modern test editors don&rsquo;t have that kind of feature&mdash;or at
least no one knows about it if they do.</p>
<p>It seems to me that while Markdown&rsquo;s ease of reading and writing has made it the
go-to markup language for writing HTML when you don&rsquo;t actually know HTML, it
actually makes a really lousy markup language for writing within a browser&rsquo;s
textarea. Perhaps that is why there seems to be a proliferation of native
markdown editor applications of late. But even they don&rsquo;t do hard line wrapping.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>It is interesting that GitHub does not even include nl2br behavior in
their list of &ldquo;<a href="https://help.github.com/articles/github-flavored-markdown/#differences-from-traditional-markdown">[d]ifferences from traditional
Markdown</a>.&rdquo;&#160;<a class="footnote-backref" href="#fnref:1" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>While I agree that the <a href="http://spec.commonmark.org/">CommonMark Spec</a> does offer some nice syntax (perhaps
even better in a few cases), I do not consider CommonMark to be <a href="http://daringfireball.net/projects/markdown/syntax">Markdown</a>.
Perhaps a step-sister. I realize that some of its creators have tried to call it
a &lsquo;better&rsquo; Markdown, but I don&rsquo;t see it as Markdown at all. Personally, I would
have preferred that the creators had openly acknowledged it as not being
Markdown, which would have given them the freedom to leave behind some of the
uglier parties of Markdown&rsquo;s syntax. But that is a different subject for another
day.&#160;<a class="footnote-backref" href="#fnref:2" rev="footnote" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div>
            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
        <div class="col-sm-3 well well-sm" id="sidebar">

<aside>
    <section>
        <ul class="list-group list-group-flush">



                <li class="list-group-item"><a href="http://achinghead.com/"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
                    <ul class="list-group " id="tags">
                        <li class="list-group-item tag-1">
                            <a href="http://achinghead.com/tag/python.html">
                                python
                            </a>
                        </li>
                        <li class="list-group-item tag-1">
                            <a href="http://achinghead.com/tag/markdown.html">
                                markdown
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="http://achinghead.com/tag/ubuntu.html">
                                Ubuntu
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="http://achinghead.com/tag/virtualbox.html">
                                VirtualBox
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="http://achinghead.com/tag/django.html">
                                django
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="http://achinghead.com/tag/linux.html">
                                linux
                            </a>
                        </li>
                        <li class="list-group-item tag-3">
                            <a href="http://achinghead.com/tag/prostetics.html">
                                prostetics
                            </a>
                        </li>
                        <li class="list-group-item tag-3">
                            <a href="http://achinghead.com/tag/bicycles.html">
                                bicycles
                            </a>
                        </li>
                        <li class="list-group-item tag-3">
                            <a href="http://achinghead.com/tag/html.html">
                                html
                            </a>
                        </li>
                        <li class="list-group-item tag-3">
                            <a href="http://achinghead.com/tag/syntax-highlighting.html">
                                syntax highlighting
                            </a>
                        </li>
                        <li class="list-group-item tag-3">
                            <a href="http://achinghead.com/tag/clipless-glove.html">
                                Clipless Glove
                            </a>
                        </li>
                        <li class="list-group-item tag-4">
                            <a href="http://achinghead.com/tag/python-nose.html">
                                Python Nose
                            </a>
                        </li>
                        <li class="list-group-item tag-4">
                            <a href="http://achinghead.com/tag/automobile.html">
                                automobile
                            </a>
                        </li>
                        <li class="list-group-item tag-4">
                            <a href="http://achinghead.com/tag/electronics.html">
                                electronics
                            </a>
                        </li>
                        <li class="list-group-item tag-4">
                            <a href="http://achinghead.com/tag/css.html">
                                css
                            </a>
                        </li>
                        <li class="list-group-item tag-4">
                            <a href="http://achinghead.com/tag/anti-spam.html">
                                anti-spam
                            </a>
                        </li>
                        <li class="list-group-item tag-4">
                            <a href="http://achinghead.com/tag/hardware.html">
                                hardware
                            </a>
                        </li>
                        <li class="list-group-item tag-4">
                            <a href="http://achinghead.com/tag/hacks.html">
                                hacks
                            </a>
                        </li>
                        <li class="list-group-item tag-4">
                            <a href="http://achinghead.com/tag/git.html">
                                git
                            </a>
                        </li>
                        <li class="list-group-item tag-4">
                            <a href="http://achinghead.com/tag/testing.html">
                                testing
                            </a>
                        </li>
                    </ul>
                </li>    



        </ul>
    </section>

</aside>        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2014 Waylan Limberg
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://achinghead.com/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://achinghead.com/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://achinghead.com/theme/js/respond.min.js"></script>

</body>
</html>